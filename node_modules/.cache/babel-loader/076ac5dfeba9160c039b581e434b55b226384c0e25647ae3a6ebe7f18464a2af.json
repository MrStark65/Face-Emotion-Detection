{"ast":null,"code":"import axios from 'axios';\nimport FormData from 'form-data';\nimport { FACE_PP_CONFIG } from '../config/api.config';\nexport const analyzeFace = async imageBase64 => {\n  try {\n    const formData = new FormData();\n    formData.append('api_key', FACE_PP_CONFIG.API_KEY);\n    formData.append('api_secret', FACE_PP_CONFIG.API_SECRET);\n\n    // Remove the data:image/jpeg;base64, prefix\n    const base64Image = imageBase64.split(',')[1];\n    formData.append('image_base64', base64Image);\n    formData.append('return_attributes', 'emotion');\n    const response = await axios.post(FACE_PP_CONFIG.API_URL, formData, {\n      headers: {\n        'Content-Type': 'multipart/form-data'\n      }\n    });\n    return response.data;\n  } catch (error) {\n    console.error('Error analyzing face:', error);\n    throw error;\n  }\n};","map":{"version":3,"names":["axios","FormData","FACE_PP_CONFIG","analyzeFace","imageBase64","formData","append","API_KEY","API_SECRET","base64Image","split","response","post","API_URL","headers","data","error","console"],"sources":["C:/all projects 5th sem BCA/emotion-detection/face-emotion-detection/src/utils/faceApiHelper.js"],"sourcesContent":["import axios from 'axios';\r\nimport FormData from 'form-data';\r\nimport { FACE_PP_CONFIG } from '../config/api.config';\r\n\r\nexport const analyzeFace = async (imageBase64) => {\r\n  try {\r\n    const formData = new FormData();\r\n    formData.append('api_key', FACE_PP_CONFIG.API_KEY);\r\n    formData.append('api_secret', FACE_PP_CONFIG.API_SECRET);\r\n    \r\n    // Remove the data:image/jpeg;base64, prefix\r\n    const base64Image = imageBase64.split(',')[1];\r\n    formData.append('image_base64', base64Image);\r\n    formData.append('return_attributes', 'emotion');\r\n\r\n    const response = await axios.post(FACE_PP_CONFIG.API_URL, formData, {\r\n      headers: {\r\n        'Content-Type': 'multipart/form-data'\r\n      }\r\n    });\r\n\r\n    return response.data;\r\n  } catch (error) {\r\n    console.error('Error analyzing face:', error);\r\n    throw error;\r\n  }\r\n};"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAOC,QAAQ,MAAM,WAAW;AAChC,SAASC,cAAc,QAAQ,sBAAsB;AAErD,OAAO,MAAMC,WAAW,GAAG,MAAOC,WAAW,IAAK;EAChD,IAAI;IACF,MAAMC,QAAQ,GAAG,IAAIJ,QAAQ,CAAC,CAAC;IAC/BI,QAAQ,CAACC,MAAM,CAAC,SAAS,EAAEJ,cAAc,CAACK,OAAO,CAAC;IAClDF,QAAQ,CAACC,MAAM,CAAC,YAAY,EAAEJ,cAAc,CAACM,UAAU,CAAC;;IAExD;IACA,MAAMC,WAAW,GAAGL,WAAW,CAACM,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;IAC7CL,QAAQ,CAACC,MAAM,CAAC,cAAc,EAAEG,WAAW,CAAC;IAC5CJ,QAAQ,CAACC,MAAM,CAAC,mBAAmB,EAAE,SAAS,CAAC;IAE/C,MAAMK,QAAQ,GAAG,MAAMX,KAAK,CAACY,IAAI,CAACV,cAAc,CAACW,OAAO,EAAER,QAAQ,EAAE;MAClES,OAAO,EAAE;QACP,cAAc,EAAE;MAClB;IACF,CAAC,CAAC;IAEF,OAAOH,QAAQ,CAACI,IAAI;EACtB,CAAC,CAAC,OAAOC,KAAK,EAAE;IACdC,OAAO,CAACD,KAAK,CAAC,uBAAuB,EAAEA,KAAK,CAAC;IAC7C,MAAMA,KAAK;EACb;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}