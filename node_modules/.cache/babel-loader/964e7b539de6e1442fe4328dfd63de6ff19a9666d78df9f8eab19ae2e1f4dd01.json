{"ast":null,"code":"import React from'react';import{Line}from'react-chartjs-2';import{motion}from'framer-motion';import{Chart as ChartJS,CategoryScale,LinearScale,PointElement,LineElement,Title,Tooltip,Legend}from'chart.js';import'../styles/components/EmotionDisplay.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";ChartJS.register(CategoryScale,LinearScale,PointElement,LineElement,Title,Tooltip,Legend);const EmotionDisplay=_ref=>{let{emotions,error,history}=_ref;if(error){return/*#__PURE__*/_jsx(motion.div,{className:\"emotion-error\",initial:{opacity:0},animate:{opacity:1},children:error});}if(!emotions){return/*#__PURE__*/_jsx(motion.div,{className:\"emotion-waiting\",initial:{opacity:0},animate:{opacity:1},children:\"Waiting for detection...\"});}const dominantEmotion=Object.entries(emotions).reduce((a,b)=>a[1]>b[1]?a:b)[0];const chartData={labels:history.map((_,index)=>\"Capture \".concat(index+1)),datasets:Object.keys(emotions).map(emotion=>({label:emotion,data:history.map(h=>h.emotions[emotion]),borderColor:getEmotionColor(emotion),tension:0.1}))};return/*#__PURE__*/_jsxs(motion.div,{className:\"emotion-display\",initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Detected Emotion\"}),/*#__PURE__*/_jsx(motion.div,{className:\"emotion-result\",initial:{scale:0.8},animate:{scale:1},children:dominantEmotion}),/*#__PURE__*/_jsx(\"div\",{className:\"emotion-details\",children:Object.entries(emotions).map(_ref2=>{let[emotion,value]=_ref2;return/*#__PURE__*/_jsxs(motion.div,{className:\"emotion-bar\",initial:{width:0},animate:{width:'100%'},children:[/*#__PURE__*/_jsx(\"span\",{className:\"emotion-label\",children:emotion}),/*#__PURE__*/_jsx(\"div\",{className:\"emotion-progress\",children:/*#__PURE__*/_jsx(motion.div,{className:\"emotion-progress-bar\",initial:{width:0},animate:{width:\"\".concat(value,\"%\")},style:{backgroundColor:getEmotionColor(emotion)}})}),/*#__PURE__*/_jsxs(\"span\",{className:\"emotion-value\",children:[value.toFixed(1),\"%\"]})]},emotion);})}),history.length>1&&/*#__PURE__*/_jsxs(\"div\",{className:\"emotion-history\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Emotion History\"}),/*#__PURE__*/_jsx(\"div\",{className:\"chart-container\",children:/*#__PURE__*/_jsx(Line,{data:chartData,options:chartOptions})})]})]});};const getEmotionColor=emotion=>{const colors={happiness:'#FFD700',sadness:'#4169E1',anger:'#FF4500',surprise:'#32CD32',fear:'#800080',disgust:'#8B4513',neutral:'#808080'};return colors[emotion.toLowerCase()]||'#000000';};const chartOptions={responsive:true,plugins:{legend:{position:'bottom'},title:{display:true,text:'Emotion Trends'}},scales:{y:{beginAtZero:true,max:100}}};export default EmotionDisplay;","map":{"version":3,"names":["React","Line","motion","Chart","ChartJS","CategoryScale","LinearScale","PointElement","LineElement","Title","Tooltip","Legend","jsx","_jsx","jsxs","_jsxs","register","EmotionDisplay","_ref","emotions","error","history","div","className","initial","opacity","animate","children","dominantEmotion","Object","entries","reduce","a","b","chartData","labels","map","_","index","concat","datasets","keys","emotion","label","data","h","borderColor","getEmotionColor","tension","y","scale","_ref2","value","width","style","backgroundColor","toFixed","length","options","chartOptions","colors","happiness","sadness","anger","surprise","fear","disgust","neutral","toLowerCase","responsive","plugins","legend","position","title","display","text","scales","beginAtZero","max"],"sources":["D:/emotion-detection/face-emotion-detection/src/components/EmotionDisplay.js"],"sourcesContent":["import React from 'react';\r\nimport { Line } from 'react-chartjs-2';\r\nimport { motion } from 'framer-motion';\r\nimport {\r\n  Chart as ChartJS,\r\n  CategoryScale,\r\n  LinearScale,\r\n  PointElement,\r\n  LineElement,\r\n  Title,\r\n  Tooltip,\r\n  Legend\r\n} from 'chart.js';\r\nimport '../styles/components/EmotionDisplay.css';\r\n\r\nChartJS.register(\r\n  CategoryScale,\r\n  LinearScale,\r\n  PointElement,\r\n  LineElement,\r\n  Title,\r\n  Tooltip,\r\n  Legend\r\n);\r\n\r\nconst EmotionDisplay = ({ emotions, error, history }) => {\r\n  if (error) {\r\n    return (\r\n      <motion.div \r\n        className=\"emotion-error\"\r\n        initial={{ opacity: 0 }}\r\n        animate={{ opacity: 1 }}\r\n      >\r\n        {error}\r\n      </motion.div>\r\n    );\r\n  }\r\n\r\n  if (!emotions) {\r\n    return (\r\n      <motion.div \r\n        className=\"emotion-waiting\"\r\n        initial={{ opacity: 0 }}\r\n        animate={{ opacity: 1 }}\r\n      >\r\n        Waiting for detection...\r\n      </motion.div>\r\n    );\r\n  }\r\n\r\n  const dominantEmotion = Object.entries(emotions)\r\n    .reduce((a, b) => (a[1] > b[1] ? a : b))[0];\r\n\r\n  const chartData = {\r\n    labels: history.map((_, index) => `Capture ${index + 1}`),\r\n    datasets: Object.keys(emotions).map((emotion) => ({\r\n      label: emotion,\r\n      data: history.map(h => h.emotions[emotion]),\r\n      borderColor: getEmotionColor(emotion),\r\n      tension: 0.1\r\n    }))\r\n  };\r\n\r\n  return (\r\n    <motion.div \r\n      className=\"emotion-display\"\r\n      initial={{ opacity: 0, y: 20 }}\r\n      animate={{ opacity: 1, y: 0 }}\r\n    >\r\n      <h2>Detected Emotion</h2>\r\n      <motion.div \r\n        className=\"emotion-result\"\r\n        initial={{ scale: 0.8 }}\r\n        animate={{ scale: 1 }}\r\n      >\r\n        {dominantEmotion}\r\n      </motion.div>\r\n\r\n      <div className=\"emotion-details\">\r\n        {Object.entries(emotions).map(([emotion, value]) => (\r\n          <motion.div \r\n            key={emotion} \r\n            className=\"emotion-bar\"\r\n            initial={{ width: 0 }}\r\n            animate={{ width: '100%' }}\r\n          >\r\n            <span className=\"emotion-label\">{emotion}</span>\r\n            <div className=\"emotion-progress\">\r\n              <motion.div \r\n                className=\"emotion-progress-bar\"\r\n                initial={{ width: 0 }}\r\n                animate={{ width: `${value}%` }}\r\n                style={{ backgroundColor: getEmotionColor(emotion) }}\r\n              />\r\n            </div>\r\n            <span className=\"emotion-value\">{value.toFixed(1)}%</span>\r\n          </motion.div>\r\n        ))}\r\n      </div>\r\n\r\n      {history.length > 1 && (\r\n        <div className=\"emotion-history\">\r\n          <h3>Emotion History</h3>\r\n          <div className=\"chart-container\">\r\n            <Line data={chartData} options={chartOptions} />\r\n          </div>\r\n        </div>\r\n      )}\r\n    </motion.div>\r\n  );\r\n};\r\n\r\nconst getEmotionColor = (emotion) => {\r\n  const colors = {\r\n    happiness: '#FFD700',\r\n    sadness: '#4169E1',\r\n    anger: '#FF4500',\r\n    surprise: '#32CD32',\r\n    fear: '#800080',\r\n    disgust: '#8B4513',\r\n    neutral: '#808080'\r\n  };\r\n  return colors[emotion.toLowerCase()] || '#000000';\r\n};\r\n\r\nconst chartOptions = {\r\n  responsive: true,\r\n  plugins: {\r\n    legend: {\r\n      position: 'bottom'\r\n    },\r\n    title: {\r\n      display: true,\r\n      text: 'Emotion Trends'\r\n    }\r\n  },\r\n  scales: {\r\n    y: {\r\n      beginAtZero: true,\r\n      max: 100\r\n    }\r\n  }\r\n};\r\n\r\nexport default EmotionDisplay;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}